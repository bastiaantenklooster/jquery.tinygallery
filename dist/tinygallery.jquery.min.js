"use strict";!function(t,e,i){var n="tinyGallery",s={slideSelector:".gallery-slide",activeClass:"active",start:0,autoplay:!1,autoresume:!0,duration:2e3,keyboard:!0,keyboardArrows:!1,keyboardSpace:!1,onChange:t.noop,onBeforeChange:t.noop,onPlay:t.noop,onStop:t.noop,onReady:t.noop,await:function(t,e){return!1},eventNamespace:n.toLowerCase()},a="plugin_"+n;function o(e,i){var a=this;return this.element=e,this.galleryElement=e.first(),this.settings=t.extend({},s,i),this.defaults=s,this.name=n,this.playing=!1,this.previousPlayingState=!1,this.playTimeout=null,this.previousReadyState=!1,this.init(),{current:function(){return a.getActiveSlide(a.getSlides())},slides:function(){return a.getSlides()},next:function(){return a.next()},previous:function(){return a.previous()},goto:function(t){return a.goto(t)},play:function(){return a.play()},stop:function(){return a.stop()},setting:function(t,e){a.settings[t]=e},destroy:function(){return a.destroy()},end:function(){return a.element}}}t.extend(o.prototype,{init:function(){var e=this;this.getActiveSlide(this.getSlides()).index()<0&&this.setActiveSlide(this.settings.start),t(i).on("keyup",function(t){return e.handleKeys(t)}),this.settings.autoplay&&this.play();this.ready()},handleKeys:function(t){var e=t.which;this.settings.keyboard&&(this.settings.keyboardSpace&&32===e&&this.next(),!this.settings.keyboardArrows||37!==e&&39!==e||this.change(e-38))},play:function(){var t=this,e=function(){return t.playTimeout=setTimeout(i,t.settings.duration)},i=function(){t.ready()&&t.next(!0),e()};this.playing=!0,this.onPlayEvent(),e()},stop:function(){this.previousPlayingState=this.playing,this.playing=!1,clearTimeout(this.playTimeout),this.onStopEvent()},ready:function(){var t=this.getSlides(),e=!this.settings.await(t,this.getActiveSlide(t));return e&&e!==this.previousReadyState&&this.onReadyEvent(),this.previousReadyState=e,e},setActiveSlide:function(t){var e=this.getSlides();e.not(":eq("+t+")").removeClass(this.settings.activeClass),e.eq(t).addClass(this.settings.activeClass)},getSlides:function(){return t(this.galleryElement).find(this.settings.slideSelector)},getActiveSlide:function(e){var i=this;return e.filter(function(){return t(this).hasClass(i.settings.activeClass)}).first()},next:function(t){return this.change(1,t)},previous:function(t){return this.change(-1,t)},goto:function(t){var e=this.getSlides(),i=this.getActiveSlide(e);return this.change(t-i.index())},change:function(t,e){!e&&this.playing&&this.stop();var i=this.getSlides(),n=this.getActiveSlide(i),s=(n.index()+t)%i.length,a=i.eq(s);return this.onBeforeChangeEvent(n,a),this.setActiveSlide(s),this.onChangeEvent(a,n),!e&&this.previousPlayingState&&this.settings.autoresume&&this.play(),{previous:n,current:a}},onPlayEvent:function(){this.settings.onPlay(),this.galleryElement.trigger(this.settings.eventNamespace+"play")},onStopEvent:function(){this.settings.onStop(),this.galleryElement.trigger(this.settings.eventNamespace+"stop")},onReadyEvent:function(){this.settings.onReady(),this.galleryElement.trigger(this.settings.eventNamespace+"ready")},onBeforeChangeEvent:function(t,e){this.settings.onBeforeChange(t,e),this.galleryElement.trigger(this.settings.eventNamespace+"beforechange",[t,e])},onChangeEvent:function(t,e){this.settings.onChange(t,e),this.galleryElement.trigger(this.settings.eventNamespace+"change",[t,e])},destroy:function(){this.stop()}}),t.fn[n]=function(t){var e=this.data(a);return e||(e=new o(this,t),this.data(a,e)),e}}(jQuery,window,document);
//# sourceMappingURL=tinygallery.jquery.min.js.map
