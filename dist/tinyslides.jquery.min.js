"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}!function(t,e,n){var i="tinySlides",s={slideSelector:".gallery-slide",activeClass:"active",start:0,autoplay:!1,random:!1,backwards:!1,autoresume:!0,duration:2e3,keyboard:!0,keyboardArrows:!1,keyboardSpace:!1,onChange:t.noop,onBeforeChange:t.noop,onPlay:t.noop,onStop:t.noop,onReady:t.noop,await:function(t,e){return!1},eventNamespace:i.toLowerCase()},r="plugin_"+i;function o(e,n){var r,o=this;return this.element=e,this.galleryElement=e.first(),this.settings=t.extend({},s,n),"function"!=typeof this.settings.duration&&(r=o.settings.duration,o.settings.duration=function(){return r}),this.defaults=s,this.name=i,this.playing=!1,this.previousPlayingState=!1,this.playTimeout=null,this.previousReadyState=!1,this.init(),{current:function(){return o.getActiveSlide(o.getSlides())},slides:function(){return o.getSlides()},next:function(){return o.next()},previous:function(){return o.previous()},goto:function(t){return o.goto(t)},play:function(){return o.play()},stop:function(){return o.stop()},setting:function(t,e){var n;"duration"===t&&"function"!=typeof e&&(n=e,e=function(){return n}),o.settings[t]=e},destroy:function(){return o.destroy()},end:function(){return o.element}}}t.extend(o.prototype,{init:function(){var e=this;this.getActiveSlide(this.getSlides()).index()<0&&this.setActiveSlide(this.settings.start),t(n).on("keyup",function(t){return e.handleKeys(t)}),this.settings.autoplay&&this.play();this.ready()},handleKeys:function(t){var e=t.which;this.settings.keyboard&&(this.settings.keyboardSpace&&32===e&&this.next(),!this.settings.keyboardArrows||37!==e&&39!==e||this.change(e-38))},play:function(){var t=this,e=function(){return t.playTimeout=setTimeout(n,t.settings.duration(t.getActiveSlide(t.getSlides())))},n=function(){t.ready()&&t.progress(t.settings.backwards?-1:1,!0),e()};this.playing=!0,this.onPlayEvent(),e()},stop:function(){this.previousPlayingState=this.playing,this.playing=!1,clearTimeout(this.playTimeout),this.onStopEvent()},ready:function(){var t=this.getSlides(),e=!this.settings.await(t,this.getActiveSlide(t));return e&&e!==this.previousReadyState&&this.onReadyEvent(),this.previousReadyState=e,e},setActiveSlide:function(t){var e=this.getSlides();e.not(":eq("+t+")").removeClass(this.settings.activeClass),e.eq(t).addClass(this.settings.activeClass)},getSlides:function(){return t(this.galleryElement).find(this.settings.slideSelector)},getActiveSlide:function(e){var n=this;return e.filter(function(){return t(this).hasClass(n.settings.activeClass)}).first()},next:function(t){return this.progress(1,t)},previous:function(t){return this.progress(-1,t)},progress:function(t,e){var n=this.getSlides(),i=this.getActiveSlide(n);if(this.settings.random){var s=[].concat(_toConsumableArray(Array(n.length).keys()));return s.splice(i.index(),1),this.goto(s[Math.floor(Math.random()*(n.length-1))])}return this.change(t,e)},goto:function(t){var e=this.getSlides(),n=this.getActiveSlide(e);return this.change(t-n.index())},change:function(t,e){!e&&this.playing&&this.stop();var n=this.getSlides(),i=this.getActiveSlide(n),s=(i.index()+t)%n.length,r=n.eq(s);return this.onBeforeChangeEvent(i,r),this.setActiveSlide(s),this.onChangeEvent(r,i),!e&&this.previousPlayingState&&this.settings.autoresume&&this.play(),{previous:i,current:r}},onPlayEvent:function(){this.settings.onPlay(),this.galleryElement.trigger(this.settings.eventNamespace+"play")},onStopEvent:function(){this.settings.onStop(),this.galleryElement.trigger(this.settings.eventNamespace+"stop")},onReadyEvent:function(){this.settings.onReady(),this.galleryElement.trigger(this.settings.eventNamespace+"ready")},onBeforeChangeEvent:function(t,e){this.settings.onBeforeChange(t,e),this.galleryElement.trigger(this.settings.eventNamespace+"beforechange",[t,e])},onChangeEvent:function(t,e){this.settings.onChange(t,e),this.galleryElement.trigger(this.settings.eventNamespace+"change",[t,e])},destroy:function(){this.stop()}}),t.fn[i]=function(t){var e=this.data(r);return e||(e=new o(this,t),this.data(r,e)),e}}(jQuery,window,document);